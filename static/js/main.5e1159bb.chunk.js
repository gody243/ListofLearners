(this.webpackJsonpassignement=this.webpackJsonpassignement||[]).push([[1],{56:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t),n.d(t,"db",(function(){return _}));var a=n(1),c=n.n(a),r=n(26),s=n.n(r),i=(n(56),n(22)),l=n(8),j=(n(57),n(46)),o=n(12),b=n(69),d=n(3);function u(e){var t=Object(l.f)();return Object(d.jsxs)("section",{children:[Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{children:["firstName :",e.learner.firstname]}),Object(d.jsxs)("li",{children:["lastName :",e.learner.lastname]}),Object(d.jsxs)("li",{children:["email :",e.learner.email]}),Object(d.jsxs)("li",{children:["score :",e.learner.score]})]}),Object(d.jsx)(b.a,{variant:"secondary",onClick:function(){console.log(t),t.push("/update/".concat(e.learner.id))},children:"Update"})]})}var O=n(73);var h=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(0),s=Object(o.a)(r,2),i=s[0],l=s[1],b=Object(a.useState)([]),h=Object(o.a)(b,2),m=h[0],x=h[1],f=Object(a.useState)(),p=Object(o.a)(f,2),g=p[0],v=p[1];return Object(a.useEffect)((function(){var e=[];_.collection("learners").onSnapshot((function(t){t.forEach((function(t){e.push(Object(j.a)(Object(j.a)({},t.data()),{},{id:t.id}))})),x(e),c(!1)}))}),[]),Object(a.useEffect)((function(){var e=(m.reduce((function(e,t){return e+ +t.score}),0)/m.length).toPrecision(3);return v(e),function(){}}),[m]),n?Object(d.jsx)("h1",{children:"Loading firebase data..."}):Object(d.jsxs)("main",{children:[Object(d.jsx)("h1",{children:"List of Learners"}),Object(d.jsxs)("h4",{children:["Average score : ",g]}),Object(d.jsx)(O.a,{children:m.length>0?m.map((function(e){return Object(d.jsxs)(O.a.Item,{onClick:function(){l(e.id)},children:[Object(d.jsx)("span",{children:e.firstname}),i===e.id&&Object(d.jsx)(u,{learner:e})]},e.id)})):Object(d.jsx)("p",{children:"No New learner yet"})})]})},m=n(24),x=n(71),f=function(){var e=Object(l.f)(),t=Object(m.b)().collection("learners"),n=Object(a.useState)(""),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),j=Object(o.a)(i,2),u=j[0],O=j[1],h=Object(a.useState)(""),f=Object(o.a)(h,2),p=f[0],g=f[1],v=Object(a.useState)(""),S=Object(o.a)(v,2),C=S[0],I=S[1];return Object(d.jsx)("main",{children:Object(d.jsxs)(x.a,{onSubmit:function(n){n.preventDefault(),t.doc().set({firstname:r,lastname:u,email:p,score:+C}).then((function(){e.push("/")}))},children:[Object(d.jsx)("h3",{children:"Add Learner"}),Object(d.jsxs)(x.a.Group,{controlId:"firstname",children:[Object(d.jsx)(x.a.Label,{children:"Firstname"}),Object(d.jsx)(x.a.Control,{type:"text",name:"firstname",placeholder:"FirstName",value:r,onChange:function(e){return s(e.target.value)},required:!0})]}),Object(d.jsxs)(x.a.Group,{controlId:"lastname",children:[Object(d.jsx)(x.a.Label,{children:"Lastname"}),Object(d.jsx)(x.a.Control,{type:"text",name:"lastname",placeholder:"LastName",required:!0,value:u,onChange:function(e){return O(e.target.value)}})]}),Object(d.jsxs)(x.a.Group,{controlId:"email",children:[Object(d.jsx)(x.a.Label,{children:"Email"}),Object(d.jsx)(x.a.Control,{type:"email",name:"email",placeholder:"name@example.com",required:!0,value:p,onChange:function(e){return g(e.target.value)}})]}),Object(d.jsxs)(x.a.Group,{controlId:"score",children:[Object(d.jsx)(x.a.Label,{children:"Score"}),Object(d.jsx)(x.a.Control,{type:"number",placeholder:"Score",min:"0",max:"10",name:"score",required:!0,value:C,onChange:function(e){return I(e.target.value)}})]}),Object(d.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})})},p=function(e){e.method;var t=Object(l.f)(),n=Object(l.g)().id,c=Object(m.b)().collection("learners"),r=Object(a.useState)(""),s=Object(o.a)(r,2),i=s[0],j=s[1],u=Object(a.useState)(""),O=Object(o.a)(u,2),h=O[0],f=O[1],p=Object(a.useState)(""),g=Object(o.a)(p,2),v=g[0],S=g[1],C=Object(a.useState)(""),I=Object(o.a)(C,2),A=I[0],E=I[1];Object(a.useEffect)((function(){c.doc(n).get().then((function(e){var t=e.data();console.log(t),j(t.firstname),f(t.lastname),S(t.email),E(t.score)}))}),[n]);return Object(d.jsx)("main",{children:Object(d.jsxs)(x.a,{onSubmit:function(e){e.preventDefault(),c.doc(n).update({firstname:i,lastname:h,email:v,score:A}).then((function(){t.push("/")}))},children:[Object(d.jsx)("h3",{children:"Update Learner"}),Object(d.jsxs)(x.a.Group,{controlId:"firstname",children:[Object(d.jsx)(x.a.Label,{children:"Firstname"}),Object(d.jsx)(x.a.Control,{type:"text",name:"firstname",placeholder:"FirstName",value:i,onChange:function(e){return j(e.target.value)},required:!0})]}),Object(d.jsxs)(x.a.Group,{controlId:"lastname",children:[Object(d.jsx)(x.a.Label,{children:"Lastname"}),Object(d.jsx)(x.a.Control,{type:"text",name:"lastname",placeholder:"LastName",required:!0,value:h,onChange:function(e){return f(e.target.value)}})]}),Object(d.jsxs)(x.a.Group,{controlId:"email",children:[Object(d.jsx)(x.a.Label,{children:"Email"}),Object(d.jsx)(x.a.Control,{type:"email",name:"email",placeholder:"name@example.com",required:!0,value:v,onChange:function(e){return S(e.target.value)}})]}),Object(d.jsxs)(x.a.Group,{controlId:"score",children:[Object(d.jsx)(x.a.Label,{children:"Score"}),Object(d.jsx)(x.a.Control,{type:"number",placeholder:"Score",min:"0",max:"10",name:"score",required:!0,value:A,onChange:function(e){return E(e.target.value)}})]}),Object(d.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})})},g=n(70),v=n(72);var S=function(){return Object(d.jsxs)(i.a,{children:[Object(d.jsx)(g.a,{bg:"dark",children:Object(d.jsx)(v.a,{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(v.a.Item,{children:Object(d.jsx)(i.b,{to:"/",children:"Home"})})}),Object(d.jsx)("li",{children:Object(d.jsx)(v.a.Item,{children:Object(d.jsx)(i.b,{to:"/add-learner",children:"AddLearner"})})})]})})}),Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/add-learner",exact:!0,children:Object(d.jsx)(f,{})}),Object(d.jsx)(l.a,{path:"/update/:id",exact:!0,children:Object(d.jsx)(p,{})}),Object(d.jsx)(l.a,{path:"/",exact:!0,children:Object(d.jsx)(h,{})})]})]})},C=function(e){e&&e instanceof Function&&n.e(12).then(n.bind(null,82)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},I=(n(67),n(18)),A=n(51);n.n(A).a.config({debug:Object({NODE_ENV:"production",PUBLIC_URL:"/ListofLearners",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyD5wY4uKIwRzzLYIy0pg5gG-Ub91YFv7bA",REACT_APP_APP_ID:"1:207149424165:web:a50f9327df48f8552e69cc",REACT_APP_AUTH_DOMAIN:"assignement-7eb2f.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"207149424165",REACT_APP_PROJECT_ID:"assignement-7eb2f",REACT_APP_STORAGE_BUCKET:"assignement-7eb2f.appspot.com"}).DEBUG});var E={apiKey:"AIzaSyD5wY4uKIwRzzLYIy0pg5gG-Ub91YFv7bA",authDomain:"assignement-7eb2f.firebaseapp.com",projectId:"assignement-7eb2f",storageBucket:"assignement-7eb2f.appspot.com",messagingSenderId:"207149424165",appId:"1:207149424165:web:a50f9327df48f8552e69cc"},_=I.a.initializeApp(E).firestore();s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(m.a,{firebaseConfig:E,children:Object(d.jsx)(S,{})})}),document.getElementById("root")),C()}},[[66,2,3]]]);
//# sourceMappingURL=main.5e1159bb.chunk.js.map